<head>
    <title>ProjectRoom</title>
</head>

<body>
    <h1>mapbox</h1>

    {{#mapbox items=rooms id="room-map"}}
        <span style="white-space: nowrap" class="marker {{#if isSelected}}selected{{/if}}">{{title}}</span>
    {{/mapbox}}

    <ul id="room-list">
        {{#each rooms}}
            <li class={{#if isSelected}}selected{{/if}}>{{title}}</li>
        {{/each}}
    </ul>

    <div id="room-editor">
        {{#with selectedItem}}
            selection: {{this.title}}
            <form>
                <input type="text" name="title" value={{this.title}} placeholder="title">
                <button type="submit">update</button>
            </form>
        {{else}}
            - no selection -
        {{/with}}
    </div>
</body>

<template name="roomList">
    <div id={{id}}>
        
        <ul>
            {{#each items}}
            <li class={{#if isSelected}}selected{{/if}}>{{title}} <small>{{_id}}</small></li>
            {{/each}}
        </ul>
    </div>
</template>
